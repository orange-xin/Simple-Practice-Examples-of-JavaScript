<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SelectAndCancelAllItemOfForm</title>
    <style>
        body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }

        div {
            margin: 0 auto;
            padding-top: 10%;
        }

        table {
            margin: 0 auto;
        }

        td {
            width: 100px;
            height: 30px;
        }

        th {
            width: 100px;
            height: 30px;
        }
    </style>
</head>

<body>
    <div>
        <table border="1">
            <thead>
                <tr>
                    <th>
                        <input type="checkbox" id="allCheck">
                    </th>
                    <th>商品</th>
                    <th>价钱</th>
                </tr>
            </thead>
            <tbody id="tb">
                <tr>
                    <td>
                        <input type="checkbox">
                    </td>
                    <td>亚巧克力吊坠</td>
                    <td>100</td>
                </tr>
                <tr>
                    <td>
                        <input type="checkbox">
                    </td>
                    <td>周边抱枕</td>
                    <td>200</td>
                </tr>
                <tr>
                    <td>
                        <input type="checkbox">
                    </td>
                    <td>手办</td>
                    <td>500</td>
                </tr>
            </tbody>
        </table>
    </div>
    <script>
        /*
            实现一个表单：
            当全选按钮选中时下方的所有按钮全选中，全选按钮取消时下方所有按钮全部取消
            并且当下方所有按钮全选中是全选按钮也选中
        */
        // this.checked? flag? checked返回true或者false
        var allCheck = document.getElementById('allCheck'); // 全选按钮
        var checkLis = document.getElementById('tb').getElementsByTagName('input'); // 下方按钮伪数组
        // 全选按钮功能
        allCheck.onclick = function () {
            for (var i = 0; i < checkLis.length; i++) {
                checkLis[i].checked = this.checked; // 让下面复选框的checked属性值跟随全选按钮的属性值
            }
        }
        for (var i = 0; i < checkLis.length; i++) {
            checkLis[i].onclick = function () {
                var flag = true; // 使用标志来控制全选按钮的属性值，默认为true
                for (var i = 0; i < checkLis.length; i++) {
                    // 只要有一个复选框没有选上那么全选框checked属性值就为false
                    if (checkLis[i].checked == false) { // if条件也可以简写成 !checkLis[i].checked
                        flag = false; // 只要有一个复选框没有选上那么全选框的属性值就为flase
                        break; // 有一个复选框没有被选中那么直接退出循环，节约资源
                    }
                }
                // 每次点击都要判断其他复选框checked的属性值，并且控制全选框的属性值
                allCheck.checked = flag;
            }
        }
    </script>
</body>

</html>